# Diun Application-Logic Configuration
# Based on official documentation and our SRE principles

# Watch configuration (from _watch - Diun.pdf)
watch:
  schedule: "0 3 * * *"
  
  # SRE-FIX: This is our new manual trigger.
  # Restarting the container will now force a full scan.
  runOnStartup: true

# Provider configuration (from Docker - Diun.pdf)
providers:
  docker:
    # SRE-FIX: Die redundante "docker: true"-Zeile wurde entfernt.
    # watchStopped ist eine g√ºltige Docker-Provider-Einstellung.
    watchStopped: true
    watchByDefault: false

# Notifier configuration (from Webhook - Diun.pdf)
notif:
  webhook:
    # This is the single, permanent "Production" URL for n8n
    # We use the internal Docker DNS name (n8n) and port (5678)

    endpoint: "http://n8n:5678/webhook-test/160eaed2-98b8-4160-8f21-062400a5f00c"   # Test
    #endpoint: "http://n8n:5678/webhook/160eaed2-98b8-4160-8f21-062400a5f00c"  # Production
    method: "POST"

